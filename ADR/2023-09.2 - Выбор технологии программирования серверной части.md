
**ADR: 2023-09.2 - Выбор технологии программирования серверной части**

**Дата:** 20 сентября 2023 г.

**Статус:** Принято

**Контекст:** 

При разработке серверной части системы поиска и резервирования билетов на концерты необходимо выбрать технологию, которая обеспечит высокую производительность, стабильность под нагрузкой, безопасность и возможность масштабирования.
Выбор технологии напрямую влияет на скорость разработки, поддержку микросервисной архитектуры и простоту интеграции с внешними API (платёжные системы, уведомления, аналитика).

**Рассмотренные варианты:**

1. **Node.js (NestJS)**
    Плюсы:
    - Быстрая разработка и низкий порог входа.
    - TypeScript — типобезопасность и удобство сопровождения.
    - Хорошо подходит для микросервисов и I/O-нагрузок.
    - Большая экосистема библиотек и инструментов.
    - Простая интеграция с фронтендом и внешними API.

    Минусы:
    - Менее эффективен при CPU-нагрузке.
    - Требует внимательного управления асинхронностью.
    - Производительность ниже, чем у Go или Java при больших объёмах данных.

2. **Java (Spring Boot)**
    Плюсы:
    - Высокая производительность и стабильность.
    - Отлично подходит для микросервисов и корпоративных решений.
    - Богатая экосистема и зрелые инструменты безопасности.
    - Хорошая поддержка транзакций и масштабирования.

    Минусы:
    - Более сложная конфигурация и настройка.
    - Требует более опытных разработчиков.
    - Медленнее цикл разработки по сравнению с Node.js.

3. **Go (Golang)**
    Плюсы:
    - Очень высокая производительность и эффективность.
    - Простая компиляция, быстрая работа в контейнерах.
    - Отлично подходит для микросервисов и высоконагруженных систем.
    - Простая многопоточность (goroutines).

    Минусы:
    - Меньше готовых библиотек и фреймворков для веб-разработки.
    - Ограниченные средства для быстрой реализации сложной бизнес-логики.
    - Порог входа выше для команды, не знакомой с Go.

**Решение:**

Выбран Node.js (NestJS).

**Обоснование:**

 - Эффективность разработки - единый стек для команды fullstack-разработчиков
 - Производительность I/O - оптимально для операций поиска и бронирования
 - Микросервисная архитектура - NestJS предоставляет готовые паттерны
 - Готовые решения - богатая экосистема для интеграций
 - Гибкость - баланс между скоростью разработки и типобезопасностью

**Последствия:**

 - Быстрый старт разработки и высокая продуктивность команды.
 - Простая интеграция фронтенда и бэкенда.
 - Возможность расширения архитектуры микросервисами.
 - Хорошая поддержка безопасности и тестирования.
 - Возможны ограничения по производительности при росте нагрузки свыше 200k активных пользователей без оптимизаций.
 - Для CPU-интенсивных задач (например, аналитики) может понадобиться отдельный сервис на Go или Python.
